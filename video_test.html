<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Video Test</title>
	<style>
		body {
			background-color: palevioletred;
		}
		
		
#video, #video__pause, #fullscreenbtn, #video__mute, #video__time, #video__time-total, #video__seek, #video__volume {
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  box-sizing: border-box;
	outline: none;
	color: white;
}

#video {
  position: relative;
	width: 626px;
	height: 395px;
	background-color: transparent;
}

#video__controls {
  position: absolute;
  background: rgba(0,0,0, 0.3);
  bottom: 0;
  left: 0;
  width: 100%;
	box-sizing: border-box;
  height: 71px;
	line-height: 71px;
/*  padding-top: 26px;*/
  padding-left: 12px;
	font-size: 0;
	
	
  opacity: 1;
  -webkit-transition: opacity .3s;
  -moz-transition: opacity .3s;
  -o-transition: opacity .3s;
  -ms-transition: opacity .3s;
  transition: opacity .3s;
	
}

#video:hover #video__controls {
  opacity: 1;
}

#video__pause {
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSI5MSA5MSAxOCAxOCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyA5MSA5MSAxOCAxOCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBvcGFjaXR5PSIwLjk1IiBmaWxsPSIjRkZGRkZGIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICIgZD0iTTkzLjI1OCw5MS4yMzlsMTQuNjkyLDcuNjgxYzEuMTQxLDAuNTk2LDEuMTQxLDEuNTYzLDAsMi4xNTkNCgkJbC0xNC42OTIsNy42ODNjLTEuMTQsMC41OTctMi4wNjQsMC4wMzctMi4wNjQtMS4yNDhWOTIuNDg3QzkxLjE5NCw5MS4yMDIsOTIuMTE4LDkwLjY0Myw5My4yNTgsOTEuMjM5eiIvPg0KPC9nPg0KPC9zdmc+DQo=);
  background-size: 20px;
  background-repeat: no-repeat;
	background-position: center;
  width: 40px;
  height: 20px;
  cursor: pointer;
  border: 0;
    display:inline-block;
    vertical-align:middle;
	margin-right: 20px;
}

#video__pause:hover {
  cursor: pointer;
}

#fullscreenbtn {
  background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE4IDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIG9wYWNpdHk9IjAuOTUiPg0KCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xNy41LDEyLjU1MWMwLDAuMzg1LTAuMzE0LDAuNjk5LTAuNjk5LDAuNjk5aC0xLjM5MmMtMC4zODUsMC0wLjQ3NywwLjIyMy0wLjIwNCwwLjQ5M2wxLjgxMSwxLjgwNA0KCQljMC4yNzIsMC4yNzEsMC4yNzIsMC43MTcsMC4wMDIsMC45ODlsLTAuNTA3LDAuNTFjLTAuMjcxLDAuMjczLTAuNzE0LDAuMjczLTAuOTg1LDBsLTEuNzgzLTEuNzk3DQoJCWMtMC4yNzEtMC4yNzMtMC40OTItMC4xODMtMC40OTIsMC4yMDJ2MS4zNWMwLDAuMzg1LTAuMzE0LDAuNjk5LTAuNjk5LDAuNjk5aC0wLjcyNmMtMC4zODYsMC0wLjctMC4zMTQtMC43LTAuNjk5di00Ljk3Ng0KCQljMC0wLjM4NiwwLjMxNC0wLjcsMC43LTAuN2g0Ljk3NmMwLjM4NSwwLDAuNjk5LDAuMzE0LDAuNjk5LDAuN1YxMi41NTF6IE0wLjUsMTIuNTUxYzAsMC4zODUsMC4zMTQsMC42OTksMC42OTksMC42OTloMS4zNQ0KCQljMC4zODUsMCwwLjQ3NiwwLjIyMywwLjIwNSwwLjQ5NGwtMS44MDEsMS44MDNjLTAuMjcyLDAuMjcxLTAuMjcyLDAuNzE3LDAsMC45ODhsMC41MTQsMC41MTRjMC4yNzEsMC4yNzIsMC43MTcsMC4yNzIsMC45ODgsMA0KCQlsMS44MDEtMS44MDFjMC4yNzItMC4yNzIsMC40OTUtMC4xOCwwLjQ5NSwwLjIwNXYxLjM0OGMwLDAuMzg1LDAuMzE0LDAuNjk5LDAuNjk5LDAuNjk5aDAuNzI2YzAuMzg1LDAsMC43LTAuMzE0LDAuNy0wLjY5OXYtNC45NzYNCgkJYzAtMC4zODYtMC4zMTQtMC43LTAuNy0wLjdIMS4xOTljLTAuMzg1LDAtMC42OTksMC4zMTQtMC42OTksMC43VjEyLjU1MXogTTE3LjUsNS40NDljMC0wLjM4NS0wLjMxNC0wLjY5OS0wLjY5OS0wLjY5OWgtMS4zOTINCgkJYy0wLjM4NSwwLTAuNDc2LTAuMjIyLTAuMjAyLTAuNDkybDEuODA2LTEuNzg0YzAuMjczLTAuMjcxLDAuMjc0LTAuNzE0LDAuMDAxLTAuOTg0bC0wLjUtMC40OTcNCgkJYy0wLjI3Mi0wLjI3MS0wLjcxNy0wLjI2OS0wLjk4OCwwLjAwNGwtMS43ODMsMS43OTdDMTMuNDcyLDMuMDY3LDEzLjI1LDIuOTc2LDEzLjI1LDIuNTlWMS4xOTljMC0wLjM4NS0wLjMxNC0wLjY5OS0wLjY5OS0wLjY5OQ0KCQloLTAuNzI2Yy0wLjM4NiwwLTAuNywwLjMxNC0wLjcsMC42OTl2NC45NzZjMCwwLjM4NSwwLjMxNCwwLjcsMC43LDAuN2g0Ljk3NmMwLjM4NSwwLDAuNjk5LTAuMzE0LDAuNjk5LTAuN1Y1LjQ0OXogTTAuNSw2LjE3NQ0KCQljMCwwLjM4NSwwLjMxNCwwLjcsMC42OTksMC43aDQuOTc2YzAuMzg1LDAsMC43LTAuMzE0LDAuNy0wLjdWMS4xOTljMC0wLjM4NS0wLjMxNC0wLjY5OS0wLjctMC42OTlINS40NDkNCgkJQzUuMDY0LDAuNSw0Ljc1LDAuODE0LDQuNzUsMS4xOTlWMi41OWMwLDAuMzg1LTAuMjIyLDAuNDc4LTAuNDk1LDAuMjA1bC0xLjgwMS0xLjhDMi4xODMsMC43MjIsMS43MzYsMC43MjEsMS40NjIsMC45OTENCgkJbC0wLjUwNywwLjVjLTAuMjczLDAuMjctMC4yNzQsMC43MTMtMC4wMDEsMC45ODNsMS43OTgsMS43ODRDMy4wMjQsNC41MjgsMi45MzQsNC43NSwyLjU0OSw0Ljc1aC0xLjM1DQoJCUMwLjgxNCw0Ljc1LDAuNSw1LjA2NCwwLjUsNS40NDlWNi4xNzV6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==);
  background-size: 100% 100%;
  background-repeat: no-repeat;
  width: 7%;
  height: 20px;
  cursor: pointer;
  border: 0;
/*  background-color: blue;*/
    display:inline-block;
    vertical-align:middle;
}

#video__time, 
#video__time-total {
  width: 5%;
  display: inline-block;
  vertical-align: middle;
	font-weight: bold;
	font-size: 1rem;
}
		
#video__time::-moz-selection,
#video__time-total::-moz-selection {
			background-color: transparent;
}
		
#video__time::selection,
		#video__time-total::selection {
			background-color: transparent;
}
		

		
		

#video__time {
	margin-right: 17px;
}

#video__seek,
#video__volume {
  background: transparent;
	height: 20px;
  display:inline-block;
  vertical-align:middle;
	margin-right: 15px;
	cursor: pointer;
	padding: 14px 0;
}

#video__seek {
  width: 258px;
}
		
#video__volume {
  width: 93px;
}

#video__scale,
#video__soundScale {
	height: 2px;
	background-color: rgba(255, 255, 255, 0.4);
	background-color: goldenrod;
	background-color: $gold;
}

#video__bar,
#video__soundBar {
	height: 2px;
	background-color: white;
	background-color: $white;
	width: 68px;
	position: relative;
}

#video__bar:after,
#video__soundBar:after{
	content: '';
	position: absolute;
	right: -4px;
	top: -3px;
	width: 8px;
	height: 8px;
	border-radius: 50%;
	background-color: #fff;
}
		
#video__time-total {
	margin-right: 38px;
}
		
#video__mute {
  width: 30px;
	height: 20px;
	background: url(/img/player__mute.png) no-repeat center -5px;
  background-color: transparent;
	border: none;
  display:inline-block;
  vertical-align:middle;
	margin-right: 7px;
	
	/* Обрезаем иконку громкости справа при нажатии */
	padding: 0 12px 0 0;
/*	background-clip: content-box;*/
}

@keyframes pulse {
  from {
    box-shadow: 0 0 2px transparent;
  }

  50% {
    box-shadow: 0px 0px 10px white;
  }

  to {
   	box-shadow: 0 0 2px transparent;
  }
}

		
#video__seek:hover #video__bar:after,
#video__volume:hover #video__soundBar:after {
  animation: pulse 1s infinite;
}

@media screen and (max-width: 500px) {
  #video__time, #video__time-total {
    display: none;
  }
}

	</style>
	
</head>
<body>
	<div id="video">
		<video id="my_video" poster="img/woman_3.jpg" width="100%" height="100%" >
    <source src="video/mikethefrog.mp4"
    type="video/mp4" />
    <source src="video/mikethefrog.webm"
    type="video/webm" />
    <source src="video/mikethefrog.ogv"
    type="video/ogg" />
    <p>Please update your browser to watch this video</p>
     </video>
<!-- Video Controls -->
<div id="video__controls">
    <button id="video__pause"></button>
   
    <span id="video__time">00:00</span>
    <div id='video__seek'>
			<div id="video__scale">
				<div id="video__bar"></div>
			</div>
		</div>
    <span id="video__time-total">00:00</span>
    <button id="video__mute"></button>
    <div id='video__volume'>
			<div id="video__soundScale">
				<div id="video__soundBar"></div>
			</div>
		</div>
<!--    <button id="fullscreenbtn"></button>-->
  </div>
</div>

<script>
	var vid, video__pause, video__seek, video__bar, video__time, video__timeTotal, video__mute, video__volume, video__soundBar, fullscreenbtn;
function intializePlayer(){
	// Set object references
	vid = document.getElementById("my_video");
	video__pause = document.getElementById("video__pause");
	video__seek = document.getElementById("video__seek");
	video__bar = document.getElementById("video__bar");
	video__time = document.getElementById("video__time");
	video__timeTotal = document.getElementById("video__time-total");
	video__mute = document.getElementById("video__mute");
	video__volume = document.getElementById("video__volume");
	video__soundBar = document.getElementById("video__soundBar");
	fullscreenbtn = document.getElementById("fullscreenbtn");
	// Add event listeners
	video__pause.addEventListener("click",playPause,false);
	
//	vid.addEventListener("click",playPause,false);
	vid.addEventListener("dblclick", toggleFullScreen);
	vid.addEventListener("timeupdate",seektimeupdate,false);
	video__mute.addEventListener("click",vidmute,false);
//	video__volume.addEventListener("change",setvolume,false);
//	fullscreenbtn.addEventListener("click",toggleFullScreen,false);
//	video__seek.addEventListener("change",vidSeek,false);

	

	var timeDrag = false; /* Drag status */
	video__seek.addEventListener( "mousedown" , function(e) {
		timeDrag = true;
		updatebar(e.pageX);
	});
		document.addEventListener( "mouseup" , function(e) {
		if(timeDrag) {
			timeDrag = false;
			updatebar(e.pageX);
		}
	});
		document.addEventListener( "mousemove" , function(e) {
		if(timeDrag) {
			updatebar(e.pageX);
		}
	});
	
	var volumeDrag = false;
	video__volume.addEventListener( "mousedown" , function(e) {
		volumeDrag = true;
		updateSound(e.pageX);
	});
		document.addEventListener( "mouseup" , function(e) {
		if(volumeDrag) {
			volumeDrag = false;
			updateSound(e.pageX);
		}
	});
		document.addEventListener( "mousemove" , function(e) {
		if(volumeDrag) {
			updateSound(e.pageX);
		}
	});
	
}
window.onload = intializePlayer;
function playPause(){
	if(vid.paused){
		vid.play();
		video__pause.style.backgroundImage = "url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE4IDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik03LjAxMSwxNi4yODVjMCwwLjY3Mi0wLjYxMiwxLjIxNS0xLjM2NiwxLjIxNUg0LjIyM2MtMC43NTQsMC0xLjM2NS0wLjU0My0xLjM2NS0xLjIxNVYxLjcxNA0KCQljMC0wLjY3LDAuNjExLTEuMjE0LDEuMzY1LTEuMjE0aDEuNDIyYzAuNzU0LDAsMS4zNjYsMC41NDQsMS4zNjYsMS4yMTRWMTYuMjg1eiIvPg0KCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0xNS4xNDIsMTYuMjg1YzAsMC42NzItMC41ODYsMS4yMTUtMS4zMDgsMS4yMTVoLTEuMzYzYy0wLjcyMywwLTEuMzA4LTAuNTQzLTEuMzA4LTEuMjE1VjEuNzE0DQoJCWMwLTAuNjcsMC41ODUtMS4yMTQsMS4zMDgtMS4yMTRoMS4zNjNjMC43MjIsMCwxLjMwOCwwLjU0NCwxLjMwOCwxLjIxNFYxNi4yODV6Ii8+DQo8L2c+DQo8L3N2Zz4NCg==)";
		video__pause.style.backgroundSize="20px";
	} else {
		vid.pause();
		video__pause.style.backgroundImage = "url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNS4xLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSI5MSA5MSAxOCAxOCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyA5MSA5MSAxOCAxOCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBvcGFjaXR5PSIwLjk1IiBmaWxsPSIjRkZGRkZGIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3ICAgICIgZD0iTTkzLjI1OCw5MS4yMzlsMTQuNjkyLDcuNjgxYzEuMTQxLDAuNTk2LDEuMTQxLDEuNTYzLDAsMi4xNTkNCgkJbC0xNC42OTIsNy42ODNjLTEuMTQsMC41OTctMi4wNjQsMC4wMzctMi4wNjQtMS4yNDhWOTIuNDg3QzkxLjE5NCw5MS4yMDIsOTIuMTE4LDkwLjY0Myw5My4yNTgsOTEuMjM5eiIvPg0KPC9nPg0KPC9zdmc+DQo=)";
		video__pause.style.backgroundSize="20px";
	}
}
	
//Изменить на document ^^
var updatebar = function(x) {
	var progress = video__seek;
	var maxduration = vid.duration;
	var position = x - progress.getBoundingClientRect().left;
	var percentage = 100 * position / progress.offsetWidth;
	
	if(percentage > 100) {
		percentage = 100;
	}
	if(percentage < 0) {
		percentage = 0;
	}
	
//	Update progress bar and video currenttime
	video__bar.style.width = percentage + "%";
	vid.currentTime = maxduration * percentage / 100;
	
};

var updateSound = function(x) {
	var progress = video__volume;
//	var maxduration = vid.duration;
	var position = x - progress.getBoundingClientRect().left;
	var percentage = 100 * position / progress.offsetWidth;
	
	if(percentage > 100) {
		percentage = 100;
	}
	if(percentage < 0) {
		percentage = 0;
		//Изменить иконку
	}
	
//	Update progress bar and video currenttime
	video__soundBar.style.width = percentage + "%";
	vid.volume = percentage / 100;

	
};
	
function seektimeupdate(){
	var currentPos = vid.currentTime;
	var maxduration = vid.duration;
	var percentage = 100 * currentPos / maxduration;
	video__bar.style.width=percentage+"%";
	
	var curmins = Math.floor(vid.currentTime / 60);
	var cursecs = Math.floor(vid.currentTime - curmins * 60);
	var durmins = Math.floor(vid.duration / 60);
	var dursecs = Math.floor(vid.duration - durmins * 60);
	if(cursecs < 10){ cursecs = "0"+cursecs; }
	if(dursecs < 10){ dursecs = "0"+dursecs; }
	if(curmins < 10){ curmins = "0"+curmins; }
	if(durmins < 10){ durmins = "0"+durmins; }
	video__time.innerHTML = curmins+":"+cursecs;
	video__timeTotal.innerHTML = durmins+":"+dursecs;
}
function vidmute(){
	if(vid.muted){
		vid.muted = false;
		video__mute.style.backgroundClip="border-box";
	} else {
		vid.muted = true;
		video__mute.style.backgroundClip="content-box";
	}
}
function setvolume(){
	vid.volume = video__volume.value / 100;
}
function toggleFullScreen(){
	if(vid.requestFullScreen){
		vid.requestFullScreen();
	} else if(vid.webkitRequestFullScreen){
		vid.webkitRequestFullScreen();
	} else if(vid.mozRequestFullScreen){
		vid.mozRequestFullScreen();
	}
}
</script>
</body>
</html>